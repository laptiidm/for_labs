# Самостійне завдання до лабораторної роботи №5

## 1. Тема

Керування яскравістю двох світлодіодів від одного потенціометра (другий світиться вдвічі слабше за перший).

---

## 2. Завдання

1. Використати схему з ЛР №3: Arduino Uno + потенціометр + світлодіод на піні **9**.
2. Додати **другий світлодіод** з резистором 220 Ом, підключений до порту **5**.
3. Змінити програму так, щоб:

   * яскравість першого світлодіода лінійно залежала від положення потенціометра;
   * другий світлодіод світився з яскравістю, що у **2 рази менша** за яскравість першого.

---

## 3. Код програми (`sketch.ino`)

```cpp
#define LED1_PIN 9   // перший світлодіод
#define LED2_PIN 5   // другий світлодіод
#define POT_PIN  A0  // потенціометр

void setup() {
  pinMode(LED1_PIN, OUTPUT);
  pinMode(LED2_PIN, OUTPUT);
  pinMode(POT_PIN, INPUT);
}

void loop() {
  int rotation = analogRead(POT_PIN);

  int brightness = rotation / 4;

  analogWrite(LED1_PIN, brightness);

  analogWrite(LED2_PIN, brightness / 2);
}
```

**Наслідки / зауваження:**

* Поки виконується `loop()` з `analogWrite`, плата не блокується — на відміну від `delay()`, можна додавати інший код.
* Якщо `brightness / 2` дає дуже малу яскравість біля нуля, це нормально: при маленькому обертанні потенціометра другий діод може бути майже непомітний.

---

## 4. Схема в симуляторі Wokwi (`diagram.json`)

Нижче — варіант з **Arduino Uno, breadboard, двома світлодіодами з резисторами та потенціометром**.
Скопіюй цей вміст у файл `diagram.json` у своєму проєкті Wokwi.

```json
{
  "version": 1,
  "author": "auto",
  "editor": "wokwi",
  "parts": [
    {
      "type": "wokwi-arduino-uno",
      "id": "uno",
      "top": 0,
      "left": 40,
      "attrs": {}
    },
    {
      "type": "wokwi-breadboard",
      "id": "bb1",
      "top": 150,
      "left": 0,
      "attrs": {}
    },
    {
      "type": "wokwi-potentiometer",
      "id": "pot1",
      "top": 150,
      "left": 200,
      "attrs": {}
    },
    {
      "type": "wokwi-led",
      "id": "led1",
      "top": 170,
      "left": 80,
      "attrs": { "color": "red" }
    },
    {
      "type": "wokwi-resistor",
      "id": "r1",
      "top": 150,
      "left": 120,
      "attrs": { "value": "220" }
    },
    {
      "type": "wokwi-led",
      "id": "led2",
      "top": 170,
      "left": 280,
      "attrs": { "color": "green" }
    },
    {
      "type": "wokwi-resistor",
      "id": "r2",
      "top": 150,
      "left": 320,
      "attrs": { "value": "220" }
    }
  ],
  "connections": [
    // потенціометр
    [ "uno:5V", "pot1:VCC", "red",   [ "v0" ] ],
    [ "uno:GND.1", "pot1:GND", "black", [ "v0" ] ],
    [ "uno:A0", "pot1:SIG", "green", [ "v0" ] ],

    // перший світлодіод на піні 9 через резистор
    [ "uno:9", "bb1:25t.e", "green", [ "v0" ] ],
    [ "bb1:25t.e", "r1:1", "green", [ "v0" ] ],
    [ "r1:2", "led1:A", "green", [ "v0" ] ],
    [ "led1:C", "bb1:21t.e", "black", [ "v0" ] ],
    [ "bb1:21t.e", "uno:GND.2", "black", [ "v0" ] ],

    // другий світлодіод на піні 5 через резистор
    [ "uno:5", "bb1:29t.e", "blue", [ "v0" ] ],
    [ "bb1:29t.e", "r2:1", "blue", [ "v0" ] ],
    [ "r2:2", "led2:A", "blue", [ "v0" ] ],
    [ "led2:C", "bb1:23t.e", "black", [ "v0" ] ],
    [ "bb1:23t.e", "uno:GND.3", "black", [ "v0" ] ]
  ],
  "dependencies": {}
}
```

---

## 5. Короткий опис роботи програми

1. Потенціометр створює змінну напругу 0–5 В, яка зчитується Arduino через аналоговий вхід **A0** (`analogRead(POT_PIN)` → 0..1023).
2. Значення ділимо на 4, щоб перевести в діапазон 0..255, сумісний з `analogWrite`.
3. На пін **9** подається PWM-сигнал з коефіцієнтом заповнення, що відповідає `brightness` → змінюється яскравість першого світлодіода.
4. На пін **5** подається PWM-сигнал з коефіцієнтом `brightness / 2` → другий світлодіод завжди світиться вдвічі слабше за перший.

---

